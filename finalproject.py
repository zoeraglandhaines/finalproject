"""
Name: Zoe Ragland-Haines
Class: CS230
Professor Frydenberg
URL:
Info: This app runs various equations to find different analytics about fast food restaurants
"""
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import folium
from streamlit_folium import st_folium


# [DA1] Data cleaning with lambda function
def clean_data():
    df = pd.read_csv("fast_food_usa.csv")
    df['city'] = df['city'].str.title().fillna("Unknown")
    df['province'] = df['province'].str.upper().fillna("Unknown")
    df['categories'] = df['categories'].fillna("Unknown")
    df['category_count'] = df['categories'].apply(lambda x: len(x.split(',')))
    return df
data = clean_data()

# [PY2] Function returning multiple values
def location_filters(df):
    cities = ["All"] + sorted(df['city'].unique())
    states = ["All"] + sorted(df['province'].unique())
    return cities, states
cities, states = location_filters(data)

# [PY1] Function with default parameter
def filter_restaurants(df, city="All", state="All"):
    if city != "All":
        df = df[df['city'] == city]
    if state != "All":
        df = df[df['province'] == state]
    return df

# [ST4] Custom page design
st.set_page_config(page_title="Fast Food Analytics", layout="wide")
st.sidebar.header("Filters")
st.sidebar.image("data:image/jpeg;base64,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", width=200)
# [ST1-ST3] Widgets
page = st.sidebar.radio("Navigation", ["Restaurant Distribution", "Restaurants by State"])
selected_city = st.sidebar.selectbox("Select City", cities)
selected_state = st.sidebar.selectbox("Select State", states)

filtered_data = filter_restaurants(data, selected_city, selected_state)

if page == "Restaurant Distribution":
    st.header("Restaurant Distribution")
    # [MAP] Detailed Folium map
    m = folium.Map(location=[filtered_data['latitude'].mean(),filtered_data['longitude'].mean()], zoom_start=10)
    for _, row in filtered_data.iterrows():
        folium.Marker(
            location=[row['latitude'], row['longitude']], tooltip=row['name'], icon=folium.Icon(color='red' if 'Subway' in row['name'] else 'blue')).add_to(m)
    st_folium(m)
    # [VIZ1] Category distribution chart
    st.subheader("Menu Category Analysis")
    fig, ax = plt.subplots()
    filtered_data['category_count'].value_counts().sort_index().plot(
        kind='bar',
        color='teal',
        ax=ax
    )
    ax.set_title("Number of Menu Categories per Restaurant")
    ax.set_xlabel("Category Count")
    ax.set_ylabel("Number of Restaurants")
    st.pyplot(fig)
elif page == "Restaurants by State":
    st.header("Restaurants by State")
    # [DA6] Pivot table analysis
    filtered_data['count'] = 1
    pivot = pd.pivot_table(
        filtered_data,
        values='count',
        index='province',
        columns='name',
        aggfunc='sum',
        fill_value=0
    )
    # [VIZ2] Heatmap visualization
    st.subheader("Restaurant Distribution by State")
    fig2, ax2 = plt.subplots(figsize=(12, 8))
    sns.heatmap(
        pivot,
        cmap="RdPu",
        ax=ax2,
        annot=True
    )
    ax2.set_title("Number of Restauraunt Locations by State")
    ax2.set_xlabel("Restaurant Chains")
    ax2.set_ylabel("State")
    st.pyplot(fig2)
# [PY3] Error handling
try:
    # [DA3] Top values analysis
    st.subheader("Top Restaurant Chains")
    top_chains = data['name'].value_counts().head(5)
    st.bar_chart(top_chains)
except Exception as e:
    st.error(f"Error generating chart: {str(e)}")
# [DA7] New calculated column
data['city_state'] = data['city'] + ", " + data['province']
# [DA8] Iterrows usage
st.subheader("Sample Locations")
sample_locations = data.head(3)[['name', 'city_state']]
for _, row in sample_locations.iterrows():
    st.write(f"{row['name']} - {row['city_state']}")
# [PY5] Dictionary usage
restaurant_stats = {
    'Total Locations': len(data),
    'Unique Chains': data['name'].nunique(),
    'Most Common City': data['city'].mode()[0]
}
st.subheader("Key Statistics")
st.write(restaurant_stats)